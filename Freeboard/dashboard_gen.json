{"version":1,"allow_edit":true,"plugins":["/plugins/all"],"panes":[{"title":"ROOMS' POPULARITY","width":1,"row":{"3":1},"col":{"3":1},"col_width":3,"widgets":[{"type":"text_widget","settings":{"size":"regular","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\n/*\nif (datasources[\"Positions norep\"][\"nrooms\"]>0){\n    return \"The room where people stay the most is the number \" + datasources[\"Positions norep\"][\"value\"][0]\n} else {\n    return \"Error...\"\n}*/\nif (datasources[\"Positions norep\"][\"nrooms\"]>0){\n   var toRet= \"The room/rooms where people stay the most is/are the number \" + datasources[\"Positions norep\"][\"value\"][0]\n   \n   var equal=false\n    for (i=0;i<datasources[\"Positions norep\"][\"nrooms\"];i++){\n        if(i>0 && (datasources[\"Positions norep\"][\"scores\"][0] === datasources[\"Positions norep\"][\"scores\"][i])){\n            equal=true \n        }\n         if(equal===true){\n             temp=\" + \"+datasources[\"Positions norep\"][\"value\"][i]\n             toRet+=temp\n             equal=false\n         }\n    }\n    return toRet\n} else {\n    return \"Error...\"\n}","animate":true}},{"type":"plugin531a3b2b7df9e78c7300000f","settings":{"html":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\n/*\nif (datasources[\"Positions norep\"][\"nrooms\"]>=3){\n    \n    var toRet=\"<div style='padding:30'>Here are the three rooms where people spend the highest time inside: <br><br>\"\n    //toRet += datasources[\"Rooms popularity\"][\"content\"][\"value\"][0]\n    \n    \n    for (i=0;i<3;i++){\n        var temp=\"<li>\"+ (i+1) + \") room \" +datasources[\"Positions norep\"][\"value\"][i] +\"</li><br>\"\n        toRet+=temp\n    }\n    toRet.concat(\"</ul></div>\") \n    //return \"<div> Most popular rooms: <ol><li>\" + datasources[\"Rooms popularity\"][\"content\"][\"value\"][0] + \"</li></ol></div>\"\n    return toRet\n} else {\n    return \"<div>Less then three rooms in this poor museum...</div>\"\n}*/\n\nif (datasources[\"Positions norep\"][\"nrooms\"]>=3){\n    \n    var toRet=\"<div style='padding:30'>Here are the three rooms where people spend the highest time inside: <br><br><ul>\"\n    //toRet += datasources[\"Rooms popularity\"][\"content\"][\"value\"][0]\n    \n    var equal = false\n    var pos=1\n    for (i=0;i<3;i++){\n        \n        if(i>0 && (datasources[\"Positions norep\"][\"scores\"][i-1] === datasources[\"Positions norep\"][\"scores\"][i])){\n            equal=true \n        }\n        if(equal==false){ \n            var temp=\"<li>\"+ (pos) + \") room \" +datasources[\"Positions norep\"][\"value\"][i] +\"</li><br>\"\n            \n            }\n        else {\n            var temp=\"<li> + room \" +datasources[\"Positions norep\"][\"value\"][i]+\"</li><br>\"\n            equal=false\n        } \n        pos=pos+1\n        toRet+=temp \n    } \n    toRet.concat(\"</ul></div>\") \n    //return \"<div> Most popular rooms: <ol><li>\" + datasources[\"Rooms popularity\"][\"content\"][\"value\"][0] + \"</li></ol></div>\"\n    return toRet\n} else {\n    return \"<div>Less then three rooms in this poor museum...</div>\"\n}","height":"2"}}]},{"title":"ROOM 1","width":1,"row":{"3":9,"5":9},"col":{"3":1,"5":1},"col_width":1,"widgets":[{"type":"gauge_widget","settings":{"title":"Average temperature","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\n\nif (datasources[\"Temperatures\"][\"room\"]=='1'){\n    return datasources[\"Temperatures\"][\"avg\"]\n}","units":"C","min_value":"15","max_value":"35"}},{"type":"text_widget","settings":{"title":"Temperature evolution","size":"regular","value":"if (datasources[\"Temperatures\"][\"room\"]=='1'){\n    return datasources[\"Temperatures\"][\"last\"]\n}","sparkline":true,"animate":true,"units":"C"}},{"type":"text_widget","settings":{"title":"Max temperature","size":"regular","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\nif (datasources[\"Temperatures\"][\"room\"]=='1'){\n    return datasources[\"Temperatures\"][\"max\"]\n}","animate":true,"units":"C"}},{"type":"text_widget","settings":{"title":"Min temperature","size":"regular","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\nif (datasources[\"Temperatures\"][\"room\"]=='1'){\n    return datasources[\"Temperatures\"][\"min\"]\n}","animate":true,"units":"C"}}]},{"title":"ROOM 2","width":1,"row":{"3":9,"5":9},"col":{"3":2,"5":2},"col_width":1,"widgets":[{"type":"gauge_widget","settings":{"title":"Average temperature","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\nif (datasources[\"Temperatures\"][\"room\"]=='2'){\n    return datasources[\"Temperatures\"][\"avg\"]\n}","units":"C","min_value":"15","max_value":"35"}},{"type":"text_widget","settings":{"title":"Temperature evolution","size":"regular","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\nif (datasources[\"Temperatures\"][\"room\"]=='2'){\n    return datasources[\"Temperatures\"][\"last\"]\n}","sparkline":true,"animate":true,"units":"C"}},{"type":"text_widget","settings":{"title":"Max temperature","size":"regular","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\nif (datasources[\"Temperatures\"][\"room\"]=='2'){\n    return datasources[\"Temperatures\"][\"max\"]\n}","animate":true,"units":"C"}},{"type":"text_widget","settings":{"title":"Min temperature","size":"regular","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\nif (datasources[\"Temperatures\"][\"room\"]=='2'){\n    return datasources[\"Temperatures\"][\"min\"]\n}","animate":true,"units":"C"}}]},{"title":"ROOM 3","width":1,"row":{"3":9,"5":9},"col":{"3":3,"5":3},"col_width":1,"widgets":[{"type":"gauge_widget","settings":{"title":"Average temperature","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\nif (datasources[\"Temperatures\"][\"room\"]=='3'){\n    return datasources[\"Temperatures\"][\"avg\"]\n}","units":"C","min_value":"15","max_value":"35"}},{"type":"text_widget","settings":{"title":"Temperature evolution","size":"regular","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\nif (datasources[\"Temperatures\"][\"room\"]=='3'){\n    return datasources[\"Temperatures\"][\"last\"]\n}","sparkline":true,"animate":true,"units":"C"}},{"type":"text_widget","settings":{"title":"Max temperature","size":"regular","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\nif (datasources[\"Temperatures\"][\"room\"]=='3'){\n    return datasources[\"Temperatures\"][\"max\"]\n}","animate":true,"units":"C"}},{"type":"text_widget","settings":{"title":"Min temperature","size":"regular","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\nif (datasources[\"Temperatures\"][\"room\"]=='3'){\n    return datasources[\"Temperatures\"][\"min\"]\n}","animate":true,"units":"C"}}]},{"title":"ROOMS' VISITS","width":1,"row":{"3":25,"5":25},"col":{"3":1,"5":2},"col_width":3,"widgets":[{"type":"text_widget","settings":{"size":"regular","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\n/*if (datasources[\"Positions rep\"][\"nrooms\"]>0){\n    return \"The room with the most visits is the number \" + datasources[\"Positions rep\"][\"value\"][0]\n} else {\n    return \"Error...\"\n}*/\n\nif (datasources[\"Positions rep\"][\"nrooms\"]>0){\n    toRet = \"The room/rooms with the most visits is/are the number \" + datasources[\"Positions rep\"][\"value\"][0]\n    \n     var equal=false\n     for (i=0;i<datasources[\"Positions rep\"][\"nrooms\"];i++){\n        if(i>0 && (datasources[\"Positions rep\"][\"scores\"][0] === datasources[\"Positions rep\"][\"scores\"][i])){\n            equal=true \n        }\n         if(equal==true){\n             temp=\" + \"+datasources[\"Positions rep\"][\"value\"][0]\n             toRet+=temp\n              equal=false\n         }\n    }\n    \n    return toRet\n} else {\n    return \"Error...\"\n}\n","animate":true}},{"type":"plugin531a3b2b7df9e78c7300000f","settings":{"html":"if (datasources[\"Positions rep\"][\"nrooms\"]>=3){\n    \n    var toRet=\"<div style='padding:30'>The three most visited rooms are: <br><br><ul>\"\n    //toRet += datasources[\"Rooms popularity\"][\"content\"][\"value\"][0]\n    \n    var equal = false\n    var pos=1\n    for (i=0;i<3;i++){\n        \n        if(i>0 && (datasources[\"Positions rep\"][\"scores\"][i-1] === datasources[\"Positions rep\"][\"scores\"][i])){\n            equal=true \n        }\n        if(equal==false){ \n            var temp=\"<li>\"+ (pos) + \") room \" +datasources[\"Positions rep\"][\"value\"][i] +\"</li><br>\"\n            \n            }\n        else {\n            var temp=\"<li> + room \" +datasources[\"Positions rep\"][\"value\"][i]+\"</li><br>\"\n            equal=false\n        } \n        pos=pos+1\n        toRet+=temp \n    } \n    toRet.concat(\"</ul></div>\") \n    //return \"<div> Most popular rooms: <ol><li>\" + datasources[\"Rooms popularity\"][\"content\"][\"value\"][0] + \"</li></ol></div>\"\n    return toRet\n} else {\n    return \"<div>Less then three rooms in this poor museum...</div>\"\n}","height":"2"}}]},{"title":"ROOM 4","width":1,"row":{"3":33,"5":25,"7":25},"col":{"3":1,"5":1,"7":1},"col_width":1,"widgets":[{"type":"gauge_widget","settings":{"title":"Average temperature","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\nif (datasources[\"Temperatures\"][\"room\"]=='4'){\n    return datasources[\"Temperatures\"][\"avg\"]\n}","units":"C","min_value":"15","max_value":"35"}},{"type":"text_widget","settings":{"title":"Temperature evolution","size":"regular","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\nif (datasources[\"Temperatures\"][\"room\"]=='4'){\n    return datasources[\"Temperatures\"][\"last\"]\n}","sparkline":true,"animate":true,"units":"C"}},{"type":"text_widget","settings":{"title":"Max temperature","size":"regular","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\nif (datasources[\"Temperatures\"][\"room\"]=='4'){\n    return datasources[\"Temperatures\"][\"max\"]\n}","animate":true,"units":"C"}},{"type":"text_widget","settings":{"title":"Min temperature","size":"regular","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\n\nif (datasources[\"Temperatures\"][\"room\"]=='4'){\n    return datasources[\"Temperatures\"][\"min\"]\n}","animate":true,"units":"C"}}]},{"title":"ROOM 5","width":1,"row":{"3":33},"col":{"3":2},"col_width":1,"widgets":[{"type":"gauge_widget","settings":{"title":"Average temperature","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\nif (datasources[\"Temperatures\"][\"room\"]=='5'){\n    return datasources[\"Temperatures\"][\"avg\"]\n}","units":"C","min_value":"15","max_value":"35"}},{"type":"text_widget","settings":{"title":"Temperature evolution","size":"regular","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\nif (datasources[\"Temperatures\"][\"room\"]=='5'){\n    return datasources[\"Temperatures\"][\"last\"]\n}","sparkline":true,"animate":true,"units":"C"}},{"type":"text_widget","settings":{"title":"Max temperature","size":"regular","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\nif (datasources[\"Temperatures\"][\"room\"]=='5'){\n    return datasources[\"Temperatures\"][\"max\"]\n}","animate":true,"units":"C"}},{"type":"text_widget","settings":{"title":"Min temperature","size":"regular","value":"// Example: Convert temp from C to F and truncate to 2 decimal places.\n// return (datasources[\"MyDatasource\"].sensor.tempInF * 1.8 + 32).toFixed(2);\nif (datasources[\"Temperatures\"][\"room\"]=='5'){\n    return datasources[\"Temperatures\"][\"min\"]\n}","animate":true,"units":"C"}}]}],"datasources":[{"name":"Temperatures","type":"dweet_io","settings":{"thing_id":"SmartMuseum_tot_temp","show_full":false,"name":"Temperatures"}},{"name":"Positions rep","type":"dweet_io","settings":{"thing_id":"SmartMuseum_rooms_tot_rep","show_full":false,"name":"Positions rep"}},{"name":"Positions norep","type":"dweet_io","settings":{"thing_id":"SmartMuseum_rooms_tot_nr","show_full":false,"name":"Positions norep"}}],"columns":3,"pane_header_bg_color":null,"pane_bg_color":null}